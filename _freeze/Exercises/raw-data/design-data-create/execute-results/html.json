{
  "hash": "2d05c12da5cf090201c38de9c8478589",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Data creation - design exercises\"\nformat: html\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.2     ✔ tibble    3.3.0\n✔ lubridate 1.9.4     ✔ tidyr     1.3.1\n✔ purrr     1.1.0     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(haven)\nlibrary(osfr)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nAutomatically registered OSF personal access token\n```\n\n\n:::\n\n```{.r .cell-code}\nosf_auth(Sys.getenv(\"OSF_PAT\"))\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nRegistered PAT from the provided token\n```\n\n\n:::\n:::\n\n# CHIS - 2023\n\n::: {.cell}\n\n```{.r .cell-code}\nchis_sas_files <- osf_retrieve_node(\"https://osf.io/z5c3m/\") %>%\n  osf_ls_files(path = \"CHIS_2023\",\n               n_max = 40,\n               pattern = \".sas7bdat\")\n\nfiledet <- chis_sas_files %>%\n  filter(name==\"adult.sas7bdat\") %>%\n  osf_download(conflicts = \"overwrite\")\n\nchis_in <- filedet %>%\n  pull(local_path) %>%\n  read_sas()\n\nunlink(pull(filedet, \"local_path\"))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nchis_slim <-\n  chis_in %>%\n  select(PUF1Y_ID, ASTCUR, RACEHP2_P1, contains(\"RAKED\")) %>%\n  mutate(\n    ASTCUR=factor(ASTCUR, labels=c(\"Current asthma\", \"No current asthma\")), \n    RACEHP2_P1=factor(RACEHP2_P1, labels=c(\"Latino\", \"Other single/multiple race\", \"American Indian/Alaska Native\", \"Asian\", \"African American\", \"White\"))\n  ) \n  \nchis_in %>% count(ASTCUR)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 2 × 2\n  ASTCUR     n\n   <dbl> <int>\n1      1  2330\n2      2 19341\n```\n\n\n:::\n\n```{.r .cell-code}\nchis_slim %>% count(ASTCUR)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 2 × 2\n  ASTCUR                n\n  <fct>             <int>\n1 Current asthma     2330\n2 No current asthma 19341\n```\n\n\n:::\n\n```{.r .cell-code}\nchis_in %>% count(RACEHP2_P1)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 2\n  RACEHP2_P1     n\n       <dbl> <int>\n1          1  3333\n2          2  3070\n3          3   162\n4          4  3364\n5          5  1023\n6          6 10719\n```\n\n\n:::\n\n```{.r .cell-code}\nchis_slim %>% count(RACEHP2_P1)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 2\n  RACEHP2_P1                        n\n  <fct>                         <int>\n1 Latino                         3333\n2 Other single/multiple race     3070\n3 American Indian/Alaska Native   162\n4 Asian                          3364\n5 African American               1023\n6 White                         10719\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(chis_slim)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n   PUF1Y_ID                       ASTCUR     \n Length:21671       Current asthma   : 2330  \n Class :character   No current asthma:19341  \n Mode  :character                            \n                                             \n                                             \n                                             \n                         RACEHP2_P1       RAKEDW0            RAKEDW1       \n Latino                       : 3333   Min.   :   26.23   Min.   :    0.0  \n Other single/multiple race   : 3070   1st Qu.:  286.61   1st Qu.:  283.1  \n American Indian/Alaska Native:  162   Median :  667.60   Median :  664.2  \n Asian                        : 3364   Mean   : 1347.93   Mean   : 1347.9  \n African American             : 1023   3rd Qu.: 1522.58   3rd Qu.: 1523.3  \n White                        :10719   Max.   :16756.95   Max.   :16827.9  \n    RAKEDW2           RAKEDW3           RAKEDW4           RAKEDW5       \n Min.   :    0.0   Min.   :    0.0   Min.   :    0.0   Min.   :    0.0  \n 1st Qu.:  283.3   1st Qu.:  281.7   1st Qu.:  282.1   1st Qu.:  281.6  \n Median :  664.4   Median :  663.5   Median :  664.9   Median :  663.4  \n Mean   : 1347.9   Mean   : 1347.9   Mean   : 1347.9   Mean   : 1347.9  \n 3rd Qu.: 1519.2   3rd Qu.: 1520.8   3rd Qu.: 1518.5   3rd Qu.: 1518.7  \n Max.   :16991.8   Max.   :17016.3   Max.   :16923.0   Max.   :16950.5  \n    RAKEDW6           RAKEDW7           RAKEDW8           RAKEDW9       \n Min.   :    0.0   Min.   :    0.0   Min.   :    0.0   Min.   :    0.0  \n 1st Qu.:  281.3   1st Qu.:  282.5   1st Qu.:  282.5   1st Qu.:  280.5  \n Median :  665.5   Median :  664.8   Median :  664.4   Median :  663.0  \n Mean   : 1347.9   Mean   : 1347.9   Mean   : 1347.9   Mean   : 1347.9  \n 3rd Qu.: 1522.4   3rd Qu.: 1519.0   3rd Qu.: 1520.0   3rd Qu.: 1519.5  \n Max.   :16789.4   Max.   :16873.3   Max.   :16943.4   Max.   :16746.7  \n    RAKEDW10          RAKEDW11          RAKEDW12          RAKEDW13      \n Min.   :    0.0   Min.   :    0.0   Min.   :    0.0   Min.   :    0.0  \n 1st Qu.:  281.6   1st Qu.:  282.7   1st Qu.:  281.5   1st Qu.:  282.2  \n Median :  663.0   Median :  665.6   Median :  663.3   Median :  665.8  \n Mean   : 1347.9   Mean   : 1347.9   Mean   : 1347.9   Mean   : 1347.9  \n 3rd Qu.: 1523.0   3rd Qu.: 1521.6   3rd Qu.: 1522.1   3rd Qu.: 1519.0  \n Max.   :16961.9   Max.   :16887.4   Max.   :16874.6   Max.   :16910.9  \n    RAKEDW14          RAKEDW15          RAKEDW16          RAKEDW17      \n Min.   :    0.0   Min.   :    0.0   Min.   :    0.0   Min.   :    0.0  \n 1st Qu.:  282.3   1st Qu.:  283.4   1st Qu.:  281.9   1st Qu.:  283.2  \n Median :  663.7   Median :  662.8   Median :  664.4   Median :  665.2  \n Mean   : 1347.9   Mean   : 1347.9   Mean   : 1347.9   Mean   : 1347.9  \n 3rd Qu.: 1517.5   3rd Qu.: 1520.6   3rd Qu.: 1522.8   3rd Qu.: 1520.5  \n Max.   :17017.7   Max.   :16949.8   Max.   :17018.2   Max.   :16823.9  \n    RAKEDW18          RAKEDW19          RAKEDW20          RAKEDW21      \n Min.   :    0.0   Min.   :    0.0   Min.   :    0.0   Min.   :    0.0  \n 1st Qu.:  283.0   1st Qu.:  281.8   1st Qu.:  283.2   1st Qu.:  281.3  \n Median :  664.5   Median :  664.3   Median :  664.5   Median :  662.4  \n Mean   : 1347.9   Mean   : 1347.9   Mean   : 1347.9   Mean   : 1347.9  \n 3rd Qu.: 1524.6   3rd Qu.: 1519.5   3rd Qu.: 1519.2   3rd Qu.: 1525.0  \n Max.   :16848.1   Max.   :17012.7   Max.   :16963.4   Max.   :16919.1  \n    RAKEDW22          RAKEDW23          RAKEDW24          RAKEDW25      \n Min.   :    0.0   Min.   :    0.0   Min.   :    0.0   Min.   :    0.0  \n 1st Qu.:  282.3   1st Qu.:  281.5   1st Qu.:  281.5   1st Qu.:  283.8  \n Median :  665.9   Median :  662.9   Median :  664.8   Median :  663.2  \n Mean   : 1347.9   Mean   : 1347.9   Mean   : 1347.9   Mean   : 1347.9  \n 3rd Qu.: 1517.4   3rd Qu.: 1523.2   3rd Qu.: 1527.8   3rd Qu.: 1520.6  \n Max.   :16791.8   Max.   :16925.0   Max.   :16906.2   Max.   :16901.0  \n    RAKEDW26          RAKEDW27          RAKEDW28          RAKEDW29      \n Min.   :    0.0   Min.   :    0.0   Min.   :    0.0   Min.   :    0.0  \n 1st Qu.:  281.8   1st Qu.:  281.7   1st Qu.:  281.5   1st Qu.:  280.6  \n Median :  663.8   Median :  663.0   Median :  664.4   Median :  663.1  \n Mean   : 1347.9   Mean   : 1347.9   Mean   : 1347.9   Mean   : 1347.9  \n 3rd Qu.: 1520.2   3rd Qu.: 1521.8   3rd Qu.: 1519.2   3rd Qu.: 1521.6  \n Max.   :16962.2   Max.   :16833.5   Max.   :16898.8   Max.   :17051.9  \n    RAKEDW30          RAKEDW31          RAKEDW32          RAKEDW33      \n Min.   :    0.0   Min.   :    0.0   Min.   :    0.0   Min.   :    0.0  \n 1st Qu.:  283.1   1st Qu.:  281.7   1st Qu.:  282.8   1st Qu.:  283.0  \n Median :  664.5   Median :  663.8   Median :  664.1   Median :  665.7  \n Mean   : 1347.9   Mean   : 1347.9   Mean   : 1347.9   Mean   : 1347.9  \n 3rd Qu.: 1520.9   3rd Qu.: 1522.3   3rd Qu.: 1523.5   3rd Qu.: 1526.6  \n Max.   :16725.6   Max.   :16873.3   Max.   :16868.3   Max.   :16942.5  \n    RAKEDW34          RAKEDW35          RAKEDW36          RAKEDW37      \n Min.   :    0.0   Min.   :    0.0   Min.   :    0.0   Min.   :    0.0  \n 1st Qu.:  282.1   1st Qu.:  281.5   1st Qu.:  281.7   1st Qu.:  281.0  \n Median :  663.9   Median :  663.1   Median :  664.1   Median :  662.4  \n Mean   : 1347.9   Mean   : 1347.9   Mean   : 1347.9   Mean   : 1347.9  \n 3rd Qu.: 1519.5   3rd Qu.: 1521.1   3rd Qu.: 1521.8   3rd Qu.: 1522.0  \n Max.   :16827.4   Max.   :16994.9   Max.   :16783.0   Max.   :16911.9  \n    RAKEDW38          RAKEDW39          RAKEDW40        RAKEDW41      \n Min.   :    0.0   Min.   :    0.0   Min.   :    0   Min.   :    0.0  \n 1st Qu.:  281.5   1st Qu.:  282.3   1st Qu.:  282   1st Qu.:  283.2  \n Median :  664.9   Median :  662.9   Median :  665   Median :  663.4  \n Mean   : 1347.9   Mean   : 1347.9   Mean   : 1348   Mean   : 1347.9  \n 3rd Qu.: 1522.4   3rd Qu.: 1520.4   3rd Qu.: 1518   3rd Qu.: 1523.0  \n Max.   :17110.6   Max.   :16858.0   Max.   :16908   Max.   :16769.8  \n    RAKEDW42          RAKEDW43          RAKEDW44          RAKEDW45      \n Min.   :    0.0   Min.   :    0.0   Min.   :    0.0   Min.   :    0.0  \n 1st Qu.:  280.6   1st Qu.:  280.7   1st Qu.:  281.8   1st Qu.:  282.5  \n Median :  663.7   Median :  661.4   Median :  662.3   Median :  663.1  \n Mean   : 1347.9   Mean   : 1347.9   Mean   : 1347.9   Mean   : 1347.9  \n 3rd Qu.: 1522.8   3rd Qu.: 1518.3   3rd Qu.: 1518.4   3rd Qu.: 1520.4  \n Max.   :16956.3   Max.   :17078.3   Max.   :16907.2   Max.   :16897.9  \n    RAKEDW46        RAKEDW47          RAKEDW48          RAKEDW49      \n Min.   :    0   Min.   :    0.0   Min.   :    0.0   Min.   :    0.0  \n 1st Qu.:  281   1st Qu.:  281.5   1st Qu.:  282.0   1st Qu.:  281.6  \n Median :  663   Median :  663.4   Median :  664.4   Median :  663.6  \n Mean   : 1348   Mean   : 1347.9   Mean   : 1347.9   Mean   : 1347.9  \n 3rd Qu.: 1518   3rd Qu.: 1520.8   3rd Qu.: 1519.6   3rd Qu.: 1518.7  \n Max.   :16982   Max.   :16424.3   Max.   :16867.7   Max.   :16835.7  \n    RAKEDW50          RAKEDW51          RAKEDW52          RAKEDW53      \n Min.   :    0.0   Min.   :    0.0   Min.   :    0.0   Min.   :    0.0  \n 1st Qu.:  281.2   1st Qu.:  282.7   1st Qu.:  282.1   1st Qu.:  281.7  \n Median :  663.2   Median :  662.9   Median :  663.8   Median :  661.7  \n Mean   : 1347.9   Mean   : 1347.9   Mean   : 1347.9   Mean   : 1347.9  \n 3rd Qu.: 1523.8   3rd Qu.: 1521.6   3rd Qu.: 1524.7   3rd Qu.: 1517.8  \n Max.   :16934.6   Max.   :16905.3   Max.   :16827.2   Max.   :16906.5  \n    RAKEDW54          RAKEDW55          RAKEDW56          RAKEDW57      \n Min.   :    0.0   Min.   :    0.0   Min.   :    0.0   Min.   :    0.0  \n 1st Qu.:  282.8   1st Qu.:  281.9   1st Qu.:  281.7   1st Qu.:  280.9  \n Median :  665.3   Median :  664.9   Median :  663.5   Median :  662.3  \n Mean   : 1347.9   Mean   : 1347.9   Mean   : 1347.9   Mean   : 1347.9  \n 3rd Qu.: 1519.5   3rd Qu.: 1523.5   3rd Qu.: 1516.1   3rd Qu.: 1520.0  \n Max.   :16831.0   Max.   :17146.3   Max.   :17003.2   Max.   :17007.9  \n    RAKEDW58          RAKEDW59          RAKEDW60          RAKEDW61    \n Min.   :    0.0   Min.   :    0.0   Min.   :    0.0   Min.   :    0  \n 1st Qu.:  281.7   1st Qu.:  283.0   1st Qu.:  280.7   1st Qu.:  282  \n Median :  662.4   Median :  664.3   Median :  663.4   Median :  665  \n Mean   : 1347.9   Mean   : 1347.9   Mean   : 1347.9   Mean   : 1348  \n 3rd Qu.: 1525.2   3rd Qu.: 1522.2   3rd Qu.: 1520.1   3rd Qu.: 1521  \n Max.   :16885.8   Max.   :16861.9   Max.   :17059.8   Max.   :16766  \n    RAKEDW62          RAKEDW63          RAKEDW64          RAKEDW65      \n Min.   :    0.0   Min.   :    0.0   Min.   :    0.0   Min.   :    0.0  \n 1st Qu.:  281.0   1st Qu.:  281.9   1st Qu.:  282.0   1st Qu.:  282.0  \n Median :  663.7   Median :  663.0   Median :  664.2   Median :  662.3  \n Mean   : 1347.9   Mean   : 1347.9   Mean   : 1347.9   Mean   : 1347.9  \n 3rd Qu.: 1522.8   3rd Qu.: 1518.1   3rd Qu.: 1517.7   3rd Qu.: 1517.6  \n Max.   :16890.3   Max.   :16861.2   Max.   :16985.2   Max.   :16837.2  \n    RAKEDW66          RAKEDW67          RAKEDW68          RAKEDW69      \n Min.   :    0.0   Min.   :    0.0   Min.   :    0.0   Min.   :    0.0  \n 1st Qu.:  282.0   1st Qu.:  282.7   1st Qu.:  280.8   1st Qu.:  281.4  \n Median :  662.3   Median :  664.7   Median :  662.4   Median :  665.4  \n Mean   : 1347.9   Mean   : 1347.9   Mean   : 1347.9   Mean   : 1347.9  \n 3rd Qu.: 1519.8   3rd Qu.: 1521.9   3rd Qu.: 1519.1   3rd Qu.: 1513.8  \n Max.   :16918.6   Max.   :16943.7   Max.   :16996.9   Max.   :16986.6  \n    RAKEDW70          RAKEDW71          RAKEDW72          RAKEDW73      \n Min.   :    0.0   Min.   :    0.0   Min.   :    0.0   Min.   :    0.0  \n 1st Qu.:  282.0   1st Qu.:  281.4   1st Qu.:  281.1   1st Qu.:  282.4  \n Median :  663.8   Median :  664.1   Median :  664.6   Median :  664.9  \n Mean   : 1347.9   Mean   : 1347.9   Mean   : 1347.9   Mean   : 1347.9  \n 3rd Qu.: 1518.6   3rd Qu.: 1521.7   3rd Qu.: 1517.8   3rd Qu.: 1520.2  \n Max.   :16858.6   Max.   :16797.0   Max.   :17043.2   Max.   :17118.8  \n    RAKEDW74          RAKEDW75          RAKEDW76          RAKEDW77      \n Min.   :    0.0   Min.   :    0.0   Min.   :    0.0   Min.   :    0.0  \n 1st Qu.:  282.7   1st Qu.:  282.1   1st Qu.:  281.9   1st Qu.:  281.8  \n Median :  664.0   Median :  663.0   Median :  666.2   Median :  663.9  \n Mean   : 1347.9   Mean   : 1347.9   Mean   : 1347.9   Mean   : 1347.9  \n 3rd Qu.: 1525.8   3rd Qu.: 1519.2   3rd Qu.: 1521.6   3rd Qu.: 1525.1  \n Max.   :16895.6   Max.   :16850.6   Max.   :16896.7   Max.   :17041.0  \n    RAKEDW78          RAKEDW79          RAKEDW80      \n Min.   :    0.0   Min.   :    0.0   Min.   :    0.0  \n 1st Qu.:  280.6   1st Qu.:  282.8   1st Qu.:  281.8  \n Median :  663.5   Median :  665.2   Median :  666.0  \n Mean   : 1347.9   Mean   : 1347.9   Mean   : 1347.9  \n 3rd Qu.: 1517.2   3rd Qu.: 1518.8   3rd Qu.: 1523.2  \n Max.   :16943.9   Max.   :17039.3   Max.   :16773.7  \n```\n\n\n:::\n\n```{.r .cell-code}\nglimpse(chis_slim)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 21,671\nColumns: 84\n$ PUF1Y_ID   <chr> \"23021436\", \"23009146\", \"23005039\", \"23025815\", \"23010158\",…\n$ ASTCUR     <fct> No current asthma, No current asthma, No current asthma, No…\n$ RACEHP2_P1 <fct> White, White, White, Other single/multiple race, Asian, Asi…\n$ RAKEDW0    <dbl> 377.76342, 5440.82230, 1510.73568, 189.35127, 816.45231, 10…\n$ RAKEDW1    <dbl> 379.67385, 5423.54632, 1524.34483, 189.04169, 823.97981, 10…\n$ RAKEDW2    <dbl> 377.67206, 5501.09481, 1518.55832, 189.20316, 813.52862, 10…\n$ RAKEDW3    <dbl> 391.87241, 5422.38467, 1518.87859, 189.67529, 812.89534, 10…\n$ RAKEDW4    <dbl> 383.52718, 5498.89734, 1501.34474, 187.64245, 811.32652, 10…\n$ RAKEDW5    <dbl> 379.36716, 5426.12142, 1497.12070, 189.18938, 797.03189, 10…\n$ RAKEDW6    <dbl> 372.56373, 5456.04102, 1525.81079, 188.55471, 807.12411, 10…\n$ RAKEDW7    <dbl> 373.88851, 5518.54856, 1507.19963, 191.93340, 814.08142, 10…\n$ RAKEDW8    <dbl> 386.89715, 5481.25082, 1532.46184, 185.18966, 829.15080, 10…\n$ RAKEDW9    <dbl> 380.30036, 5393.13753, 1482.86902, 192.35734, 799.39751, 10…\n$ RAKEDW10   <dbl> 396.80874, 5520.21994, 1512.59631, 188.96238, 823.09128, 10…\n$ RAKEDW11   <dbl> 381.20852, 5560.46991, 1513.11707, 191.01037, 809.26274, 10…\n$ RAKEDW12   <dbl> 370.08881, 5471.17062, 1490.55583, 190.17599, 828.57677, 10…\n$ RAKEDW13   <dbl> 381.63377, 5539.08920, 1503.27857, 190.02121, 825.39467, 10…\n$ RAKEDW14   <dbl> 387.73313, 5531.07340, 1518.70073, 185.98445, 816.56755, 10…\n$ RAKEDW15   <dbl> 373.96319, 5461.81096, 1488.12767, 186.04791, 1643.84520, 1…\n$ RAKEDW16   <dbl> 375.63387, 5425.88871, 1539.72594, 185.85065, 821.55347, 10…\n$ RAKEDW17   <dbl> 375.90868, 5413.12792, 1532.15331, 190.06499, 817.35716, 10…\n$ RAKEDW18   <dbl> 374.06907, 5409.66538, 1533.86418, 188.83553, 812.23683, 10…\n$ RAKEDW19   <dbl> 370.70155, 5335.39076, 3030.67675, 190.35148, 816.76742, 10…\n$ RAKEDW20   <dbl> 376.16361, 5542.36138, 1520.98004, 190.40463, 795.17561, 11…\n$ RAKEDW21   <dbl> 376.66374, 5438.99627, 1529.29484, 188.40847, 836.53256, 10…\n$ RAKEDW22   <dbl> 372.88810, 5407.19403, 1512.71368, 194.52411, 815.79660, 10…\n$ RAKEDW23   <dbl> 377.08123, 5511.05350, 1501.40871, 187.07666, 822.90284, 10…\n$ RAKEDW24   <dbl> 378.14045, 5447.60615, 1532.24763, 191.06993, 819.86697, 10…\n$ RAKEDW25   <dbl> 376.63905, 5469.76063, 1499.22198, 190.37025, 826.91579, 10…\n$ RAKEDW26   <dbl> 381.21627, 5424.59692, 1503.23199, 184.82446, 821.61634, 10…\n$ RAKEDW27   <dbl> 736.12313, 5392.15220, 1508.96013, 189.40821, 812.01521, 10…\n$ RAKEDW28   <dbl> 374.87207, 5399.98490, 1502.29676, 189.41890, 825.64499, 10…\n$ RAKEDW29   <dbl> 370.48273, 5609.82334, 1504.46387, 193.33981, 822.45949, 10…\n$ RAKEDW30   <dbl> 374.08421, 5478.56452, 1529.79756, 190.29283, 823.20287, 10…\n$ RAKEDW31   <dbl> 375.93944, 5531.46321, 1517.66913, 187.70034, 831.32689, 10…\n$ RAKEDW32   <dbl> 376.77720, 5454.02908, 1523.81288, 190.89860, 818.75318, 10…\n$ RAKEDW33   <dbl> 373.90451, 5359.04687, 1496.22835, 187.71859, 808.17450, 10…\n$ RAKEDW34   <dbl> 384.70325, 5372.82318, 1513.76344, 0.00000, 804.31669, 1087…\n$ RAKEDW35   <dbl> 385.93101, 5540.75364, 1515.22343, 189.41755, 841.06640, 10…\n$ RAKEDW36   <dbl> 380.05346, 5367.44428, 1540.28237, 189.23365, 807.56729, 10…\n$ RAKEDW37   <dbl> 383.44112, 5499.94872, 1514.47617, 185.00184, 816.35734, 10…\n$ RAKEDW38   <dbl> 380.96955, 5365.76141, 1533.75380, 190.40014, 803.55967, 10…\n$ RAKEDW39   <dbl> 378.53806, 5408.72203, 1509.70452, 190.37006, 820.94697, 10…\n$ RAKEDW40   <dbl> 373.32674, 5618.84749, 1512.48396, 185.96514, 835.63063, 10…\n$ RAKEDW41   <dbl> 375.60203, 5442.86619, 1507.47738, 188.91416, 797.63435, 10…\n$ RAKEDW42   <dbl> 388.49579, 5468.25392, 1514.51889, 192.55026, 831.84420, 10…\n$ RAKEDW43   <dbl> 379.04804, 5657.00804, 1504.12435, 187.34036, 821.21227, 10…\n$ RAKEDW44   <dbl> 372.79291, 5412.42624, 1510.57340, 189.99224, 811.94509, 10…\n$ RAKEDW45   <dbl> 387.31702, 5380.19192, 1524.80976, 189.34965, 796.24619, 10…\n$ RAKEDW46   <dbl> 378.68040, 5455.72685, 1499.24639, 190.23263, 804.89197, 0.…\n$ RAKEDW47   <dbl> 379.80074, 5479.65824, 1491.39890, 189.03908, 816.88308, 10…\n$ RAKEDW48   <dbl> 377.62516, 5370.25650, 1513.32532, 190.51240, 817.18117, 10…\n$ RAKEDW49   <dbl> 370.27108, 5374.99529, 1534.30372, 195.08625, 819.42334, 10…\n$ RAKEDW50   <dbl> 381.09146, 5623.57965, 1529.57536, 191.14493, 799.42589, 10…\n$ RAKEDW51   <dbl> 372.93695, 5609.68675, 1518.73015, 185.10356, 810.56250, 10…\n$ RAKEDW52   <dbl> 376.83386, 5416.01179, 1502.63013, 190.52319, 825.65017, 10…\n$ RAKEDW53   <dbl> 389.22721, 5464.54688, 1510.69820, 191.24272, 856.36362, 10…\n$ RAKEDW54   <dbl> 375.42718, 5516.58306, 1487.37912, 190.05101, 801.45826, 10…\n$ RAKEDW55   <dbl> 384.84576, 5492.52884, 1505.72717, 187.44860, 811.25627, 10…\n$ RAKEDW56   <dbl> 383.56347, 5647.00544, 1511.08240, 191.69014, 831.28855, 10…\n$ RAKEDW57   <dbl> 380.48633, 5606.80831, 1511.94020, 192.65707, 794.17496, 10…\n$ RAKEDW58   <dbl> 373.62795, 5757.47977, 1512.46551, 187.94741, 815.14317, 10…\n$ RAKEDW59   <dbl> 378.91924, 5477.69162, 1507.52377, 197.38367, 817.99470, 10…\n$ RAKEDW60   <dbl> 379.50452, 5477.71051, 1544.63224, 183.65976, 816.89856, 10…\n$ RAKEDW61   <dbl> 376.64977, 5452.65149, 1514.34498, 188.45472, 814.88040, 10…\n$ RAKEDW62   <dbl> 383.56295, 5491.55744, 1501.05195, 190.40998, 800.40138, 10…\n$ RAKEDW63   <dbl> 373.75339, 5419.57694, 1516.86197, 190.99482, 781.46844, 10…\n$ RAKEDW64   <dbl> 377.09404, 5438.36416, 1476.57247, 190.49051, 821.19084, 10…\n$ RAKEDW65   <dbl> 382.93142, 5410.64353, 1528.48797, 187.00515, 825.62659, 10…\n$ RAKEDW66   <dbl> 371.80213, 5483.77954, 1508.08229, 194.32258, 824.90959, 10…\n$ RAKEDW67   <dbl> 376.80663, 5494.01669, 1506.71439, 192.39086, 814.74078, 10…\n$ RAKEDW68   <dbl> 376.07679, 5382.78726, 1502.21384, 186.68741, 802.94914, 10…\n$ RAKEDW69   <dbl> 378.27932, 5393.35827, 1514.61013, 190.74435, 810.13806, 10…\n$ RAKEDW70   <dbl> 369.99802, 5501.78894, 1521.28708, 186.60201, 830.13613, 10…\n$ RAKEDW71   <dbl> 374.53516, 5499.46675, 1512.58341, 191.23757, 805.99356, 10…\n$ RAKEDW72   <dbl> 387.86304, 5404.68519, 1492.87434, 190.87869, 815.55435, 10…\n$ RAKEDW73   <dbl> 374.74585, 5491.12022, 1498.81821, 187.83433, 819.17877, 10…\n$ RAKEDW74   <dbl> 379.83108, 5413.06749, 1508.31555, 189.78261, 815.79475, 10…\n$ RAKEDW75   <dbl> 382.49719, 5487.47759, 1551.93120, 186.79749, 823.61018, 10…\n$ RAKEDW76   <dbl> 380.05337, 5418.50610, 1520.87989, 184.52873, 814.85938, 10…\n$ RAKEDW77   <dbl> 379.98450, 5434.79433, 1480.95731, 190.16368, 812.64372, 10…\n$ RAKEDW78   <dbl> 382.62349, 5523.48197, 1491.87493, 186.64661, 814.11781, 10…\n$ RAKEDW79   <dbl> 372.87396, 5462.95628, 1516.71710, 189.64531, 813.59217, 10…\n$ RAKEDW80   <dbl> 382.94937, 5420.72648, 1523.64843, 185.78273, 811.93065, 10…\n```\n\n\n:::\n\n```{.r .cell-code}\nwrite_rds(chis_slim, here::here(\"Exercises\", \"data\", \"chis_adult_2023.rds\"), compress=\"xz\")\n```\n:::\n\n# NSDUH - 2023\n\n::: {.cell}\n\n```{.r .cell-code}\ndir.create(here::here(\"Exercises\", \"raw-data\", \"nsduh-temp\"))\ndownload.file(\"https://www.samhsa.gov/data/system/files/media-puf-file/NSDUH-2023-DS0001-bndl-data-r_v1.zip\",\n              here::here(\"Exercises\", \"raw-data\", \"nsduh-temp\", \"nsduh-2023.zip\"))\n\nunzip(here::here(\"Exercises\", \"raw-data\", \"nsduh-temp\", \"nsduh-2023.zip\"),\n      exdir = here::here(\"Exercises\", \"raw-data\", \"nsduh-temp\"))\n\nload(here::here(\"Exercises\", \"raw-data\", \"nsduh-temp\", \"NSDUH_2023.Rdata\"))\n\nunlink(here::here(\"Exercises\", \"raw-data\", \"nsduh-temp\"), recursive= TRUE)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nnsduh_slim <- puf2023_102124 %>%\n  select(QUESTID2, ANALWT2_C, VESTR_C, VEREP, AGE3, ALCMON, ALCMDAYS, MRJMON, MRJMDAYS) %>%\n  mutate(\n    AGE3=factor(AGE3, labels=c(\"12-13\", \"14-15\", \"16-17\", \"18-20\", \"21-23\", \"24-25\", \"26-29\", \"30-34\", \"35-49\", \"50-64\", \"65+\")),\n    ALCMON=factor(ALCMON, labels=c(\"Did not use in past month\", \"Used in the past month\")),\n    MRJMON=factor(MRJMON, labels=c(\"Did not use in past month\", \"Used in the past month\")),\n    ALCMDAYS=factor(ALCMDAYS, labels=c(\"1-2 days\", \"3-5 days\", \"6-19 days\", \"20-30 days\", \"Non user or no past month use\")),\n    MRJMDAYS=factor(MRJMDAYS, labels=c(\"1-2 days\", \"3-5 days\", \"6-19 days\", \"20-30 days\", \"Non user or no past month use\"))\n  )\n\npuf2023_102124 %>% count(AGE3)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 11 × 2\n    AGE3     n\n   <dbl> <int>\n 1     1  3649\n 2     2  4067\n 3     3  3856\n 4     4  4728\n 5     5  5214\n 6     6  3645\n 7     7  3884\n 8     8  5287\n 9     9 12355\n10    10  4960\n11    11  5060\n```\n\n\n:::\n\n```{.r .cell-code}\nnsduh_slim %>% count(AGE3)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 11 × 2\n   AGE3      n\n   <fct> <int>\n 1 12-13  3649\n 2 14-15  4067\n 3 16-17  3856\n 4 18-20  4728\n 5 21-23  5214\n 6 24-25  3645\n 7 26-29  3884\n 8 30-34  5287\n 9 35-49 12355\n10 50-64  4960\n11 65+    5060\n```\n\n\n:::\n\n```{.r .cell-code}\npuf2023_102124 %>% count(ALCMON)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 2 × 2\n  ALCMON     n\n   <dbl> <int>\n1      0 32118\n2      1 24587\n```\n\n\n:::\n\n```{.r .cell-code}\nnsduh_slim %>% count(ALCMON)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 2 × 2\n  ALCMON                        n\n  <fct>                     <int>\n1 Did not use in past month 32118\n2 Used in the past month    24587\n```\n\n\n:::\n\n```{.r .cell-code}\npuf2023_102124 %>% count(MRJMON)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 2 × 2\n  MRJMON     n\n   <dbl> <int>\n1      0 46856\n2      1  9849\n```\n\n\n:::\n\n```{.r .cell-code}\nnsduh_slim %>% count(MRJMON)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 2 × 2\n  MRJMON                        n\n  <fct>                     <int>\n1 Did not use in past month 46856\n2 Used in the past month     9849\n```\n\n\n:::\n\n```{.r .cell-code}\npuf2023_102124 %>% count(ALCMDAYS)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 5 × 2\n  ALCMDAYS     n\n     <dbl> <int>\n1        1  7689\n2        2  6814\n3        3  6954\n4        4  3130\n5        5 32118\n```\n\n\n:::\n\n```{.r .cell-code}\nnsduh_slim %>% count(ALCMDAYS)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 5 × 2\n  ALCMDAYS                          n\n  <fct>                         <int>\n1 1-2 days                       7689\n2 3-5 days                       6814\n3 6-19 days                      6954\n4 20-30 days                     3130\n5 Non user or no past month use 32118\n```\n\n\n:::\n\n```{.r .cell-code}\npuf2023_102124 %>% count(MRJMDAYS)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 5 × 2\n  MRJMDAYS     n\n     <dbl> <int>\n1        1  1853\n2        2  1361\n3        3  1935\n4        4  4700\n5        5 46856\n```\n\n\n:::\n\n```{.r .cell-code}\nnsduh_slim %>% count(MRJMDAYS)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 5 × 2\n  MRJMDAYS                          n\n  <fct>                         <int>\n1 1-2 days                       1853\n2 3-5 days                       1361\n3 6-19 days                      1935\n4 20-30 days                     4700\n5 Non user or no past month use 46856\n```\n\n\n:::\n:::\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(nsduh_slim)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n    QUESTID2          ANALWT2_C            VESTR_C          VEREP      \n Min.   :10000053   Min.   :     1.52   Min.   :40001   Min.   :1.000  \n 1st Qu.:20101602   1st Qu.:   798.64   1st Qu.:40013   1st Qu.:1.000  \n Median :30232665   Median :  2280.31   Median :40025   Median :1.000  \n Mean   :30258005   Mean   :  4998.81   Mean   :40025   Mean   :1.431  \n 3rd Qu.:40381086   3rd Qu.:  5776.35   3rd Qu.:40038   3rd Qu.:2.000  \n Max.   :50558785   Max.   :118941.43   Max.   :40050   Max.   :2.000  \n                                                                       \n      AGE3                             ALCMON     \n 35-49  :12355   Did not use in past month:32118  \n 30-34  : 5287   Used in the past month   :24587  \n 21-23  : 5214                                    \n 65+    : 5060                                    \n 50-64  : 4960                                    \n 18-20  : 4728                                    \n (Other):19101                                    \n                          ALCMDAYS                           MRJMON     \n 1-2 days                     : 7689   Did not use in past month:46856  \n 3-5 days                     : 6814   Used in the past month   : 9849  \n 6-19 days                    : 6954                                    \n 20-30 days                   : 3130                                    \n Non user or no past month use:32118                                    \n                                                                        \n                                                                        \n                          MRJMDAYS    \n 1-2 days                     : 1853  \n 3-5 days                     : 1361  \n 6-19 days                    : 1935  \n 20-30 days                   : 4700  \n Non user or no past month use:46856  \n                                      \n                                      \n```\n\n\n:::\n\n```{.r .cell-code}\nglimpse(nsduh_slim)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 56,705\nColumns: 9\n$ QUESTID2  <dbl> 10000053, 10000679, 10001208, 10001260, 10001588, 10004996, …\n$ ANALWT2_C <dbl> 3276.46987, 15630.08295, 4018.17239, 10711.70954, 8195.10478…\n$ VESTR_C   <dbl> 40031, 40021, 40043, 40030, 40023, 40048, 40003, 40038, 4004…\n$ VEREP     <dbl> 2, 2, 1, 2, 2, 1, 1, 1, 2, 1, 2, 2, 1, 2, 2, 2, 1, 1, 1, 1, …\n$ AGE3      <fct> 50-64, 35-49, 35-49, 12-13, 50-64, 18-20, 30-34, 65+, 30-34,…\n$ ALCMON    <fct> Used in the past month, Used in the past month, Did not use …\n$ ALCMDAYS  <fct> 6-19 days, 3-5 days, Non user or no past month use, Non user…\n$ MRJMON    <fct> Did not use in past month, Did not use in past month, Did no…\n$ MRJMDAYS  <fct> Non user or no past month use, Non user or no past month use…\n```\n\n\n:::\n\n```{.r .cell-code}\nwrite_rds(nsduh_slim, here::here(\"Exercises\", \"data\", \"nsduh_2023.rds\"), compress=\"xz\")\n```\n:::",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}